{
  "info": {
    "name": "Fractal Auth API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Collection for testing the Fractal auth server endpoints"
  },
  "item": [
    {
      "name": "Health",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        }
      }
    },
    {
      "name": "Register Email",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"a-strong-password\",\n  \"phone\": \"+15551234567\"\n}"
        },
        "url": {"raw":"{{baseUrl}}/auth/register/email","host":["{{baseUrl}}"],"path":["auth","register","email"]}
      }
    },
    {
      "name": "Login Email",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"a-strong-password\"\n}"
        },
        "url": {"raw":"{{baseUrl}}/auth/login/email","host":["{{baseUrl}}"],"path":["auth","login","email"]}
      }
    },
    {
      "name": "Request OTP",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"phone\": \"+15551234567\"\n}"
        },
        "url": {"raw":"{{baseUrl}}/auth/password/request-otp","host":["{{baseUrl}}"],"path":["auth","password","request-otp"]}
      }
    },
    {
      "name": "Reset Password",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"phone\": \"+15551234567\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"another-strong-password\"\n}"
        },
        "url": {"raw":"{{baseUrl}}/auth/password/reset","host":["{{baseUrl}}"],"path":["auth","password","reset"]}
      }
    },
    {
      "name": "Nonce",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {"mode": "raw", "raw": "{\n  \"address\": \"0x0000000000000000000000000000000000000000\"\n}"},
        "url": {"raw":"{{baseUrl}}/auth/nonce","host":["{{baseUrl}}"],"path":["auth","nonce"]}
      }
    },
    {
      "name": "Verify SIWE Signature",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {"mode": "raw", "raw": "{\n  \"address\": \"0x...\",\n  \"signature\": \"0x...\"\n}"},
        "url": {"raw":"{{baseUrl}}/auth/verify","host":["{{baseUrl}}"],"path":["auth","verify"]}
      }
    },
    {
      "name": "Link Google Account",
      "request": {
        "method": "POST",
        "header": [
          {"key":"Content-Type","value":"application/json"},
          {"key":"Authorization","value":"Bearer {{token}}"}
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"googleAccessToken\": \"ya29...\"\n}"
        },
        "url": {"raw":"{{baseUrl}}/auth/link","host":["{{baseUrl}}"],"path":["auth","link"]}
      }
    },
    {
      "name": "Profile",
      "request": {
        "method": "GET",
        "header": [{"key":"Authorization","value":"Bearer {{token}}"}],
        "url": {"raw":"{{baseUrl}}/auth/profile","host":["{{baseUrl}}"],"path":["auth","profile"]}
      }
    },
    {
      "name": "Logout",
      "request": {
        "method": "POST",
        "header": [{"key":"Authorization","value":"Bearer {{token}}"}],
        "url": {"raw":"{{baseUrl}}/auth/logout","host":["{{baseUrl}}"],"path":["auth","logout"]}
      }
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:4000"},
    {"key": "token", "value": ""}
  ]
}
